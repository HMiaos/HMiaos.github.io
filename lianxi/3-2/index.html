<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>评级</title>
		<link rel="stylesheet" href="CSS/PJ.css" />
	</head>
	<body>
		<p id = "box" class="mauto">
			<a href="javascript:;">☆</a>
			<a href="javascript:;">☆</a>
			<a href="javascript:;">☆</a>
			<a href="javascript:;">☆</a>
			<a href="javascript:;">☆</a>
		</p>
		<script>
			var box = document.getElementById('box');
			var as = box.getElementsByTagName('a'); 
			//形参 函数
			function hmcolor(hh){
				var hcolor;
				//this.hm小于等于2就是红色
				if(hh<2){
					hcolor = 'red';
				}
				//this.hm大于2就是黄绿色。
				if(hh>=2){
					hcolor = 'greenyellow';
				}
				//this.hm大于4就是黄绿色。
				if(hh>=4){
					hcolor = 'yellow';
				}
				//恢复前（hh+1)个的颜色
				for(var i=0;i<hh+1;i++){
						as[i].style.color = hcolor;	
						as[i].innerHTML = '★'
				}
			}
			//循环套属性和函数
			for(var i=0;i<as.length;i++){
				var hc = 0;
				as[i].hm = i;
				//移入
				as[i].onmouseover = function(){
					for(var i=0;i<as.length;i++){
						as[i].style.color = '';	
						as[i].innerHTML = '☆'
					}
					hmcolor(this.hm);
				}
				//点击
				as[i].onclick = function(){
					hmcolor(this.hm);
					hc = this.hm+1;
				}
				//移出
				as[i].onmouseleave = function(){
					hmcolor(hc-1);
					for(var i=hc;i<as.length;i++){
						as[i].style.color = '';	
						as[i].innerHTML = '☆'
					}
				}
			}
			
		</script>
	</body>
</html>
