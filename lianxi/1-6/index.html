<!DOCTYPE HTML>
<html lang="en-US">
<head>
<meta charset=UTF-8>
<title>汪洋大海</title>
<style type="text/css">
</style>
<script type="text/javascript">
    var G =
    {
        divs : [],
         D : 0,// 下0，左1，上2，右3
         od : [], 
         C : function (i)
         {
             var div = document.createElement ('div');
            div.style.position = 'absolute';
            div.style.width = '50px';
            div.style.height = '50px';
            div.style.textAlign = 'center';
            div.style['line-height'] = '50px';
            div.style.backgroundColor = 'red';
            div.style.color = 'white';
            div.style.font = '42px Consolas bolder';
            var txt = document.createTextNode (i);
            div.appendChild (txt);
            return div;
         },
        I : function (num)
        {
            for ( var i = 0; i < num; i++)
            {
                var div = this.C (i);
                this.divs.push (div);
            }
            var vb = document.createElement ('input');
            vb.setAttribute ("type", "button");
            vb.value = "自动生成一个V字形";
            vb.style.width = '200px';
            vb.style.height = '30px';
            vb.onclick = function ()
            {
                G.V ();
            }
            this.vb = vb;
            document.body.appendChild (vb);
             
            var btn = document.createElement ('input');
            btn.type = 'button';
            btn.value = '按钮';
            btn.style.width = '100px';
            btn.style.height = '30px';
            btn.onclick = function ()
            {
                G.T ();
            }
            document.body.appendChild (btn);
        },
        A : function (divs, isExists, which)
        {
            if (!isExists)
            {
                for ( var i = 0; i < divs.length; i++)
                {
                    document.body.appendChild (divs[i]);
                }
            }
            which ? this.iExists = 1 : this.oExists = 1;
        },
        V : function ()
        {
            var divs = G.divs;
            for ( var i = 0; i < divs.length / 2; i++)
            {
                divs[i].style.left = parseFloat (divs[i].style.width) * i + 'px';
                divs[divs.length - i - 1].style.top = divs[i].style.top = parseFloat (divs[i].style.height) * (i + 1)+ 'px';
                divs[divs.length - i - 1].style.left = parseFloat (divs[i].style.width) * (divs.length - i - 1) + 'px';
            }
            G.A (divs, this.iExists, true);
        },
        // 下，上， 靠上;  左，右, 靠左
        // 点击顺序 下，左，上，右
        T : function ()
        {
            var divs = G.divs;
            switch (G.D)
            {
                case 0:
                    for ( var i = 0; i < divs.length / 2; i++)
                    {
                        divs[divs.length - i -1].style.top = divs[i].style.top = parseFloat (divs[i].style.height) * Math.floor(divs.length / 2 - i + 1) + 'px';
                        divs[i].style.left = parseFloat (divs[i].style.width) * i + 'px';
                        divs[divs.length - i - 1].style.left = parseFloat (divs[i].style.width) * (divs.length - i - 1) + 'px';
                    }
                    break;
                case 1:
                    for ( var i = 0; i < divs.length / 2; i++)
                    {
                        divs[divs.length - i - 1].style.left = divs[i].style.left = parseFloat (divs[i].style.width) * i + 'px';
                        divs[divs.length - i - 1].style.top = parseFloat (divs[i].style.height) * (divs.length - i) + 'px';
                        divs[i].style.top = parseFloat (divs[i].style.height) * (i + 1)+ 'px';
                    }
                    break;
                case 2:
                    G.V ();
                    break;
                case 3:
                    for ( var i = 0; i < divs.length / 2; i++)
                    {
                        divs[divs.length - i - 1].style.left = divs[i].style.left = parseFloat (divs[i].style.width) * Math.floor(divs.length / 2 - i) + 'px';
                        divs[divs.length - i - 1].style.top = parseFloat (divs[i].style.height) * (divs.length - i) + 'px';
                        divs[i].style.top = parseFloat (divs[i].style.height) * (i + 1)+ 'px';
                    }
                    break;
            }
            G.D++;
            G.D = G.D > 3 ? 0 : G.D;
            G.A (divs, this.iExists, true);
        },
        P : function (sum, each)
        {
            this.od = [];
            for ( var i = 0; i < sum; i++)
            {
                var div = this.C (i);
                div.style.border = '1px dashed black';
                div.style.top = Math.floor (i / each) * parseFloat (div.style.height) + 500 + 'px';
                div.style.left = Math.floor (i % each) * parseFloat (div.style.width) + 'px';
                this.od.push (div);
            }
            G.A (this.od, this.oExists, false);
        }
    };
     
    onload = function ()
    {
        G.I (11);
       // G.P (100, 10);
    }
</script>
</head>
<body>
</body>
</html>